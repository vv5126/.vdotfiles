#!/bin/bash

function vpush() {
	[ "$#" -ge 1 ] && {
		[ ${!#} == '-g' ] && {
			FILES=$@
			FILES=${FILES% *}
			echo $FILES
			sever=${VGL_CLIPBOARD%:*}
			clip_dir=${VGL_CLIPBOARD##*:}
			ssh "$sever" "rm -rf $clip_dir"
			ssh "$sever" "mkdir $clip_dir"
			scp -rq $FILES $VGL_CLIPBOARD
		} || {
			[ -d "$VGL_LOCALCLIPBOARD" ] && rm -rf "$VGL_LOCALCLIPBOARD"
			mkdir "$VGL_LOCALCLIPBOARD"
           	cp -r $@ "$VGL_LOCALCLIPBOARD"
		}
	}
}

function vpull() {
	[ ${!#} == '-g' ] && {
		scp -rq $VGL_CLIPBOARD/* .
	} || {
		[ -d "$VGL_LOCALCLIPBOARD" ] && cp -r $VGL_LOCALCLIPBOARD/* .
	}
}

############# will export ##############

export -f vpush
export -f vpull

########### will export end ############
