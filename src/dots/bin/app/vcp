#!/bin/bash

source $VLIBS/lib.list

NUM=0

if [ $# -eq 0 ]; then
	onlyshowlist $VGL_DATA/.vcp_conf
	exit
fi

NUM=$@
NUM=${NUM##* }
expr $NUM + 0 &>/dev/null
if [ $? -eq 0 ]; then
	DEST=$(getline $VGL_DATA/.vcp_conf $NUM)
	FILES=$@
	FILES=${FILES% *}
else
	if [[ "$NUM" =~ "@" ]]; then
		echo $NUM >> $VGL_DATA/.vcp_conf
		DEST=$NUM
		FILES=$@
		FILES=${FILES% *}
	else
		DEST=$(showlist $VGL_DATA/.vcp_conf "cp to")
		FILES=$@
	fi
fi

scp -r $FILES $DEST
